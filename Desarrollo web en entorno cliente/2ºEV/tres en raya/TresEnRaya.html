<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<title>Imagenes</title>
<style>
table {border-collapse:collapse; margin:0 auto;}
td, tr {height:100px; width:100px; border: 2px solid black;}
</style>
<script language="JavaScript" type="text/javascript">
var jugador1= true;
var booleanos=[];

window.onload = function () {
columnas = document.getElementsByTagName("td");

	for (var i=0;i<columnas.length;i++){
		columnas[i].setAttribute("id",i);
		columnas[i].onclick = mostrarImagen;
        booleanos[i]=false;

	}
	
}

function ganador(letra){
	for(i=0;i<booleanos.length;i++){
	booleanos[i]=true;
	}
	if(letra=="x"){
		alert ("Ganador: Jugador 1");
	}else if (letra=="y"){
		alert ("Ganador: Jugador 2");
	}
}

function comprobar(){
celdas = document.getElementsByTagName("td");
for(i=0;i<celdas.length;i=i+3){
	if(celdas[i].getAttribute("name")==celdas[i+1].getAttribute("name") && celdas[i].getAttribute("name")==celdas[i+2].getAttribute("name") && celdas[i].getAttribute("name")!=null){
	ganador(celdas[i].getAttribute("name"));
	}
}
for(i=0;i<3;i++){
	if(celdas[i].getAttribute("name")==celdas[i+3].getAttribute("name") && celdas[i].getAttribute("name")==celdas[i+6].getAttribute("name") && celdas[i].getAttribute("name")!=null){
	ganador(celdas[i].getAttribute("name"));
	}
}
if(celdas[0].getAttribute("name")==celdas[4].getAttribute("name") && celdas[0].getAttribute("name")==celdas[8].getAttribute("name") && celdas[0].getAttribute("name")!=null){
	ganador(celdas[0].getAttribute("name"));
}
if(celdas[2].getAttribute("name")==celdas[4].getAttribute("name") && celdas[2].getAttribute("name")==celdas[6].getAttribute("name") && celdas[2].getAttribute("name")!=null){
	ganador(celdas[2].getAttribute("name"));
}
}

function mostrarImagen(elEvento) {
	var evento = elEvento || window.event;
	imagen=document.createElement("img");
	imagen.setAttribute("width","100px");
	imagen.setAttribute("height","100px");

	if(booleanos[this.id]==false){
		if(jugador1){
			jugador1=false;
			this.setAttribute("name","x");
			imagen.setAttribute("src","img/x.jpg");
			this.appendChild(imagen);

						
		}else{
			jugador1=true;
			imagen.setAttribute("src","img/o.jpg");
			this.appendChild(imagen);
			this.setAttribute("name","y");		
		}
		comprobar();
		booleanos[this.id]=true;
	}
	
}
</script>

<body>

<table>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
</table>

</body>
</html>